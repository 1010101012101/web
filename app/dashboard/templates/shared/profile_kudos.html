{% comment %}
  Copyright (C) 2017 Gitcoin Core

  This program is free software: you can redistribute it and/or modify
  it under the terms of the GNU Affero General Public License as published
  by the Free Software Foundation, either version 3 of the License, or
  (at your option) any later version.

  This program is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
  GNU Affero General Public License for more details.

  You should have received a copy of the GNU Affero General Public License
  along with this program. If not, see <http://www.gnu.org/licenses/>.
{% endcomment %}
{% load i18n staticfiles %}

{% if user.is_authenticated and request.path == '/profile/' %}
<div class="btn-group" role="group" aria-label="Basic example">
  <button type="button" class="btn btn-sm btn-danger" data-toggle="popover" data-class="asd" data-html="true" data-popover-content="#wallet-popover">Add Wallet</button>
  <button type="button" class="btn btn-sm btn-secondary" disabled>{{ wallet_addresses|length }}</button>
</div>
<div id="wallet-popover" style="display:none;">
  <div class="popover-heading">{% trans "Wallets" %}</div>
  <div class="popover-body">
    <form action="/profile/" method="post">
      {% csrf_token %}
      <div class="input-group input-group-sm">
        <div class="input-group-prepend">
          <div id="wallet-address" class="input-group-text" data-metamask-address></div>
        </div>
        <div class="input-group-append">
          <button type="submit" class="btn btn-sm btn-primary">{% trans "Add Wallet" %}</button>
        </div>
      </div>

    </form>
    <ul class="list-unstyled p-2 wallets-list">
      {% for address in wallet_addresses %}
      <li>{{ address }}</li>
      {% endfor %}
    </ul>
  
  </div>
</div>
{% endif %}

<ul class="nav nav-tabs my-5" id="myTab" role="tablist">
  <li class="nav-item">
    <a class="nav-link nav-line active" id="mykudos-tab" data-toggle="tab" href="#mykudos" role="tab" aria-controls="mykudos" aria-selected="true">{% trans "My Kudos" %} ({{ kudos|length }})</a>
  </li>
  <li class="nav-item">
    <a class="nav-link nav-line" id="sentkudos-tab" data-toggle="tab" href="#sentkudos" role="tab" aria-controls="sentkudos" aria-selected="false">{% trans "Sent Kudos" %} (1)</a>
  </li>
  <li class="align-self-center ml-auto font-smaller-2">
    Sort By Recent: <a href="">{% trans "New" %}</a> - <a href="">{% trans "Old" %}</a>
  </li>
</ul>

<div class="tab-content" id="myTabContent">

  <div class="tab-pane fade show active" id="mykudos" role="tabpanel" aria-labelledby="home-tab">
    <div class="row justify-content-center" id='my-kudos'>
      {% for kudo in kudos %}
      <div class="col-xs-12 col-sm-6 col-lg-3 mb-3">
        <div class="kd-card kd-extended">
          <a href="/kudos/{{ kudo.id }}" class="">
            <img src="{% static kudo.image %}" alt="{{ kudo.name }}" class="img-thumbnail border-transparent kd-shadow" width="250">
          </a>
          <div class="kd-content">
            <div class="kd-title">{{ kudo.name }}</div>
            {{ kudo.description }}
            <a href="" class="d-block mb-1" data-truncatehash title="{{ kudo.lister}} ">{{ kudo.lister }}</a>
            <div>Sent from <a href="">Bob7878</a></div>
          </div>
        </div>
      </div>
      {% endfor %}
    </div>
  </div>
  
  <div class="tab-pane fade" id="sentkudos" role="tabpanel" aria-labelledby="sentkudos-tab">
    <div class="row justify-content-center">
      <div class="col-xs-12 col-sm-6 col-lg-3 mb-3">
        <div class="kd-card kd-extended">
          <a href="/kudos/{{ listing.id }}" class="">
            <img src="{% static '/v2/images/kudos/devflare-bugsquasher.svg' %}" alt="{{ listing.name }}" class="img-thumbnail border-transparent kd-shadow" width="250">
          </a>
          <div class="kd-content">
            <div class="kd-title">{{ 'Jolly Juggler' }}</div>
            Amazing developer, writes flawless code
            <div class="mb-2">
              45/75
            </div>
            <a href="" class="d-block mb-1" data-truncatehash title="0x0a2b3a08d5ab70d2091c985933eed7fab9c67022">0x0a2b3a08d5ab70d2091c985933eed7fab9c67022</a>
            <div>Sent from <a href="">Bob7878</a></div>
            <p class="mt-2 mb-0">You have an amazing attention to details</p>
          </div>
        </div>
      </div>
    </div>
  </div>

</div>


<script src="{% static "v2/js/pages/profile_kudos.js" %}"></script>